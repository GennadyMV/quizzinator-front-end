var TEMPLATE = (function(){
	var _public = {};

	var templates = {
		loading: '<div class="alert alert-info">Loading the quiz...</div>',
		error: '<div class="alert alert-danger">Error loading the quiz!</div>',
		quiz_body: '<div class="panel-heading"><h3 class="panel-title">{{title}}</h3></div><div class="panel-body"><form>{{{body}}}<div class="form-group"><button class="btn btn-primary submit-quiz" data-targetQuiz="{{id}}"><span class="glyphicon glyphicon-ok"></span> Send</button></form></div></div>',
		open_question: '<div class="form-group quiz-item" data-type="open_question"><label>{{question}}</label><textarea class="form-control open-question-value" required></textarea></div>'
		multiple_choice_question: '<div class="form-group quiz-item" data-type="multiple_choice_question"><label>{{question}}</label>{{#list options}}<div class="radio"> <label><input type="radio" name="choice" value="{{title}}">{{title}}</label></div>{{/list}}'
	},
		login: '<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Login</h3></div><div class="panel-body"><form><div class="form-group"><label for="username">Username</label><input type="text" class="form-control" placeholder="Username"></div><div class="form-group"></div></div></div>'
	} 


	_public.render_loading = function(){
		return templates.loading;
	}

	_public.render_error = function(){
		return templates.error;
	}

	_public.render_quiz = function(data){
		var quiz_template = Handlebars.compile(templates.quiz_body);
		var quiz_body = "";
		data.items = JSON.parse(data.items)

		data.items.forEach(function(item){
			var item_template = Handlebars.compile(templates[item.item_type]);
			quiz_body += item_template(item);
		});

		return quiz_template({ id: data.id, title: data.title, body: quiz_body });
	}

	_public.login = function(data){
		return templates.login;

	}
	return _public;
})();
